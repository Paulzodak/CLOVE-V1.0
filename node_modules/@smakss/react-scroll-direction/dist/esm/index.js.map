{"version":3,"file":"index.js","sources":["../../src/hooks/useDetectScroll.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction useDetectScroll(props) {\n  const {\n    thr = 0,\n    axis = \"y\",\n    scrollUp = axis === \"y\" ? \"up\" : \"left\",\n    scrollDown = axis === \"y\" ? \"down\" : \"right\",\n    still = \"still\",\n  } = props;\n  const [scrollDir, setScrollDir] = useState(still);\n\n  useEffect(() => {\n    const threshold = thr > 0 ? thr : 0;\n    let ticking = false;\n    let lastScroll = undefined;\n\n    axis === \"y\"\n      ? (lastScroll = window.pageYOffset)\n      : (lastScroll = window.pageXOffset);\n\n    const updateScrollDir = () => {\n      let scroll = undefined;\n\n      axis === \"y\"\n        ? (scroll = window.pageYOffset)\n        : (scroll = window.pageXOffset);\n\n      if (Math.abs(scroll - lastScroll) < threshold) {\n        ticking = false;\n        return;\n      }\n      setScrollDir(scroll > lastScroll ? scrollDown : scrollUp);\n      lastScroll = scroll > 0 ? scrollY : 0;\n      ticking = false;\n    };\n\n    const onScroll = () => {\n      if (!ticking) {\n        window.requestAnimationFrame(updateScrollDir);\n        ticking = true;\n      }\n    };\n\n    window.addEventListener(\"scroll\", onScroll);\n\n    return () => window.removeEventListener(\"scroll\", onScroll);\n  }, [scrollDir]);\n\n  return [scrollDir];\n}\n\nexport default useDetectScroll;\n\nuseDetectScroll.propTypes = {\n  thr: PropTypes.number,\n  axis: PropTypes.string,\n  scrollUp: PropTypes.string,\n  scrollDown: PropTypes.string,\n  still: PropTypes.string,\n};\n"],"names":[],"mappings":";;;AAGA,SAAS,eAAe,CAAC,KAAK,EAAE;AAChC,EAAE,MAAM;AACR,IAAI,GAAG,GAAG,CAAC;AACX,IAAI,IAAI,GAAG,GAAG;AACd,IAAI,QAAQ,GAAG,IAAI,KAAK,GAAG,GAAG,IAAI,GAAG,MAAM;AAC3C,IAAI,UAAU,GAAG,IAAI,KAAK,GAAG,GAAG,MAAM,GAAG,OAAO;AAChD,IAAI,KAAK,GAAG,OAAO;AACnB,GAAG,GAAG,KAAK,CAAC;AACZ,EAAE,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;AACpD;AACA,EAAE,SAAS,CAAC,MAAM;AAClB,IAAI,MAAM,SAAS,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;AACxC,IAAI,IAAI,OAAO,GAAG,KAAK,CAAC;AACxB,IAAI,IAAI,UAAU,GAAG,SAAS,CAAC;AAC/B;AACA,IAAI,IAAI,KAAK,GAAG;AAChB,SAAS,UAAU,GAAG,MAAM,CAAC,WAAW;AACxC,SAAS,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;AAC1C;AACA,IAAI,MAAM,eAAe,GAAG,MAAM;AAClC,MAAM,IAAI,MAAM,GAAG,SAAS,CAAC;AAC7B;AACA,MAAM,IAAI,KAAK,GAAG;AAClB,WAAW,MAAM,GAAG,MAAM,CAAC,WAAW;AACtC,WAAW,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;AACxC;AACA,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,UAAU,CAAC,GAAG,SAAS,EAAE;AACrD,QAAQ,OAAO,GAAG,KAAK,CAAC;AACxB,QAAQ,OAAO;AACf,OAAO;AACP,MAAM,YAAY,CAAC,MAAM,GAAG,UAAU,GAAG,UAAU,GAAG,QAAQ,CAAC,CAAC;AAChE,MAAM,UAAU,GAAG,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,CAAC,CAAC;AAC5C,MAAM,OAAO,GAAG,KAAK,CAAC;AACtB,KAAK,CAAC;AACN;AACA,IAAI,MAAM,QAAQ,GAAG,MAAM;AAC3B,MAAM,IAAI,CAAC,OAAO,EAAE;AACpB,QAAQ,MAAM,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC;AACtD,QAAQ,OAAO,GAAG,IAAI,CAAC;AACvB,OAAO;AACP,KAAK,CAAC;AACN;AACA,IAAI,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAChD;AACA,IAAI,OAAO,MAAM,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAChE,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;AAClB;AACA,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC;AACrB,CAAC;AAGD;AACA,eAAe,CAAC,SAAS,GAAG;AAC5B,EAAE,GAAG,EAAE,SAAS,CAAC,MAAM;AACvB,EAAE,IAAI,EAAE,SAAS,CAAC,MAAM;AACxB,EAAE,QAAQ,EAAE,SAAS,CAAC,MAAM;AAC5B,EAAE,UAAU,EAAE,SAAS,CAAC,MAAM;AAC9B,EAAE,KAAK,EAAE,SAAS,CAAC,MAAM;AACzB,CAAC;;;;"}